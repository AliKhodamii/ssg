<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SSG</title>
    <link rel="stylesheet" href="css/sytle.css?v=1.2" />
  </head>
  <body>
    <div class="top-container">
      <h1>سامانه آبیاری هوشمند SSG</h1>
      <!-- <h2 style="border: none">Sed Smart Garden</h2> -->
      <h3 id="username" style="border: none; text-align: start; margin: 0"></h3>
      <form id="login" action="login.html" style="display: none">
        <button type="submit" id="login-btn">ورود به حساب کاربری</button>
      </form>
      <form id="register" action="register.html" style="display: none">
        <button type="submit" id="register-btn">ایجاد حساب کاربری</button>
      </form>
    </div>

    <div id="mainApp" class="mainContainer" style="display: none">
      <div class="square humidityDiv">
        <table class="humidityTable">
          <tr>
            <td>
              <p>
                رطوبت خاک :
                <span id="humQuality">مناسب</span>
              </p>
            </td>
            <td style="text-align: center">
              <span id="humidityPercent">100 %</span
              ><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <img
                id="checkedPic"
                src="pics/checked.png"
                alt="checked"
                class="humidityPic"
              />
              <img
                id="warningPic"
                src="pics/warning.png"
                alt="warning"
                class="humidityPic displayNone"
              />
              <img
                id="errorPic"
                src="pics/error.png"
                alt="error"
                class="humidityPic displayNone"
              />
            </td>
          </tr>
        </table>
      </div>
      <div id="valveDiv" class="square valveDiv">
        <table class="valveTable">
          <tr>
            <td style="text-align: center; padding-bottom: 20px" colspan="2">
              <h3 id="valveStatus" class="valveIsClose"></h3>
            </td>
          </tr>
          <tr>
            <td style="width: 45%">
              <table>
                <tr>
                  <td id="irrTimeTd" style="width: 50%">
                    <div style="font-size: 20px">
                      <img src="pics/timer.png" alt="timer" />&nbsp;مدت آبیاری :
                    </div>
                  </td>
                  <td>
                    <div id="irrigating" class="displayNone textCenter">
                      در حال آبیاری...
                    </div>

                    <div
                      id="durationTimeDiv"
                      style="display: grid; justify-content: center"
                    >
                      <div style="display: flex; align-items: end">
                        <div
                          style="
                            display: flex;
                            flex-direction: column;
                            /* margin-right: 10px; */
                            text-align: center;
                          "
                        >
                          <div>دقیقه</div>
                          <div>
                            <input
                              type="number"
                              name="durationMin"
                              id="durationMin"
                              onfocus="this.select()"
                              inputmode="numeric"
                              pattern="\d*"
                              maxlength="2"
                              required
                            />
                          </div>
                        </div>
                        <span>&nbsp;:&nbsp;&nbsp;</span>
                        <div
                          style="
                            display: flex;
                            flex-direction: column;
                            text-align: center;
                          "
                        >
                          <div>ساعت</div>
                          <div>
                            <input
                              type="number"
                              name="durationHour"
                              id="durationHour"
                              onfocus="this.select()"
                              oninvalid="this.setCustomValidity('Selected quantity is more than stock status')"
                              oninput="setCustomValidity()"
                              max="24"
                              min="0"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td style="width: 40%">
              <div class="buttonDiv">
                <button id="valveButton" class="greenButton">باز کردن</button>
              </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="square autoIrrDiv">
        <table class="autoIrrTable">
          <tbody>
            <tr>
              <td colspan="2">
                <h3 id="autoIrrEn">آبیاری خودکار روشن است</h3>
              </td>
            </tr>
            <tr>
              <td style="text-align: center" colspan="2">
                <button id="autoIrrButton" class="redButton">خاموش کردن</button>
              </td>
            </tr>
          </tbody>
          <tbody id="autoIrrInfoTbody">
            <tr>
              <td>
                <img src="pics/calendar.png" alt="timer" /> تاریخ آبیاری بعدی
              </td>
              <td>
                <img
                  src="pics/cross.png"
                  alt="cross"
                  name="crossPic"
                  class="displayNone"
                />
                <span id="nextIrr" style="font-size: 20px">1403/01/25</span>
              </td>
            </tr>
            <tr>
              <td><img src="pics/reapeat.png" alt="timer" /> تکرار آبیاری</td>
              <td>
                <img
                  src="pics/cross.png"
                  alt="cross"
                  name="crossPic"
                  class="displayNone"
                />
                <div class="" id="howOftenDiv">
                  هر
                  <span
                    ><input type="text" name="howOften" id="howOften"
                  /></span>
                  روز یکبار
                </div>
              </td>
            </tr>
            <tr>
              <td><img src="pics/clock.png" alt="timer" /> ساعت آبیاری</td>
              <td>
                <img
                  src="pics/cross.png"
                  alt="cross"
                  name="crossPic"
                  class="displayNone"
                />
                <div class="" id="irrClockDiv">
                  <span
                    ><span><input type="text" name="minute" id="minute" /></span
                  ></span>
                  :
                  <span
                    ><span><input type="text" name="hour" id="hour" /></span
                  ></span>
                </div>
              </td>
            </tr>
            <tr>
              <td><img src="pics/timer.png" alt="timer" /> مدت آبیاری</td>
              <td>
                <img
                  src="pics/cross.png"
                  alt="cross"
                  name="crossPic"
                  class="displayNone"
                />
                <div
                  class=""
                  id="irrTimeDiv"
                  style="
                    display: flex;
                    justify-content: center;
                    align-items: end;
                    margin: 5px auto;
                  "
                >
                  <div
                    style="display: grid; margin: auto 5px; text-align: center"
                  >
                    دقیقه<input
                      type="number"
                      name="AIdurationMin"
                      id="AIdurationMin"
                      onfocus="this.select()"
                      required
                      style="margin: auto"
                    />
                  </div>
                  :
                  <div style="display: grid; margin: auto 5px">
                    ساعت<input
                      type="number"
                      name="AIdurationHour"
                      id="AIdurationHour"
                      onfocus="this.select()"
                      required
                      style="margin: auto"
                    />
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td style="text-align: center" colspan="2">
                <button id="autoIrrSave" class="loadingButton"></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="square recentIrrDiv">
        <h3>آبیاری های اخیر</h3>
        <div>
          <table class="recordTable">
            <thead>
              <tr>
                <td>ردیف</td>
                <td>روز</td>
                <td>تاریخ</td>
                <td>ساعت</td>
                <td>مدت زمان آبدهی</td>
              </tr>
            </thead>
            <tbody id="recIrr"></tbody>
          </table>
        </div>
      </div>
      <div class="square top-container" style="padding: 0">
        <form
          id="logout"
          action="./php/logout.php"
          method="POST"
          style="display: none; margin: 0 10px"
        >
          <button
            type="submit"
            id="logout-btn"
            style="background-color: #e97132"
          >
            خروج
          </button>
        </form>
      </div>
    </div>
  </body>

  <script src="./js/session_check.js"></script>
</html>
